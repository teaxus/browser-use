# Test Agent

ä¸€ä¸ªåŸºäº browser-use çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ™ºèƒ½ä½“æ¡†æ¶

## é¡¹ç›®ç®€ä»‹

Test Agent æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•è§£å†³æ–¹æ¡ˆï¼ŒåŸºäº browser-use åº“æ„å»ºã€‚å®ƒæ”¯æŒé€šè¿‡ Markdown æ ¼å¼ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæä¾›æ™ºèƒ½çš„é”™è¯¯å¤„ç†å’Œäººå·¥å¹²é¢„æœºåˆ¶ï¼Œå¹¶ç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šã€‚

## ä¸»è¦ç‰¹æ€§

- âœ… **Markdown æ ¼å¼æµ‹è¯•ç”¨ä¾‹** - ä½¿ç”¨ç®€å•ç›´è§‚çš„æ ¼å¼å®šä¹‰æµ‹è¯•æ­¥éª¤
- âœ… **ç¯å¢ƒå˜é‡æ¨¡æ¿æ›¿æ¢** - è½»æ¾é…ç½®ä¸åŒç¯å¢ƒçš„æµ‹è¯•å‚æ•°
- âœ… **äººå·¥å¹²é¢„æœºåˆ¶** - åœ¨å…³é”®æ­¥éª¤å…è®¸äººå·¥ä»‹å…¥å’Œè°ƒæ•´
- âœ… **æ™ºèƒ½é”™è¯¯é‡è¯•** - è‡ªåŠ¨å¤„ç†ä¸´æ—¶æ€§é”™è¯¯
- âœ… **è¯¦ç»†æµ‹è¯•æŠ¥å‘Š** - å®Œæ•´è®°å½•æµ‹è¯•è¿‡ç¨‹å’Œç»“æœ
- âœ… **WebSocket æ¥å£æ”¯æŒ** - å®æ—¶ç›‘æ§æµ‹è¯•æ‰§è¡ŒçŠ¶æ€
- âœ… **çµæ´»çš„è¶…æ—¶æ§åˆ¶** - æ”¯æŒé•¿æ—¶é—´è¿è¡Œçš„æµ‹è¯•æ­¥éª¤ï¼ˆæœ€é•¿ 600 ç§’ï¼‰

## å®‰è£…

ç¡®ä¿å·²å®‰è£… browser-use åº“ï¼š

```bash
pip install browser-use
```

ç„¶åå…‹éš†æœ¬ä»“åº“ï¼š

```bash
git clone https://github.com/yourusername/test_agent.git
cd test_agent
```

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

1. åˆ›å»º Markdown æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼š

```markdown
# ç™»å½•æµ‹è¯•

## æµ‹è¯•æ­¥éª¤

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® {{base_url}}
2. ç‚¹å‡»ç™»å½•æŒ‰é’®
3. åœ¨æ‰‹æœºå·è¾“å…¥æ¡†ä¸­è¾“å…¥ {{credentials.phone}}
4. åœ¨éªŒè¯ç è¾“å…¥æ¡†ä¸­è¾“å…¥ {{credentials.code}}
5. ç‚¹å‡»ç™»å½•æŒ‰é’®
6. éªŒè¯æ˜¯å¦æˆåŠŸç™»å½•åˆ°ä¸»é¡µ
```

2. åˆ›å»ºé…ç½®æ–‡ä»¶ `test_agent_config.yaml`ï¼š

```yaml
environments:
  test:
    base_url: "https://test.example.com"
    credentials:
      phone: "18600000000"
      code: "123456"
    custom_vars:
      debug_mode: true
      timeout: 60000
      step_timeout: 600 # 10åˆ†é’Ÿï¼Œåˆç†çš„æ­¥éª¤è¶…æ—¶æ—¶é—´

  prod:
    base_url: "https://prod.example.com"
    credentials:
      phone: "prod_phone"
      code: "prod_code"
    custom_vars:
      debug_mode: false
      timeout: 60000

default_environment: "test"

# LLM é…ç½®
llm_config:
  provider: "openai"
  model: "gpt-4"
  api_key: "${OPENAI_API_KEY}"
  temperature: 0.1
```

3. è¿è¡Œæµ‹è¯•ï¼š

```bash
python -m test_agent.cli.interface run your_test_case.md --config test_agent_config.yaml
```

## CLI å‘½ä»¤å‚è€ƒ

Test Agent æä¾›äº†å¤šç§å‘½ä»¤è¡Œé€‰é¡¹ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨å‘½ä»¤ï¼š

### è¿è¡Œæµ‹è¯•ç”¨ä¾‹

```bash
# åŸºæœ¬ç”¨æ³•
python -m test_agent.cli.interface run test_chat.md --config test_agent_config.yaml

# æŒ‡å®šç¯å¢ƒ
python -m test_agent.cli.interface run test_chat.md --config test_agent_config.yaml --env prod

# å¯ç”¨è°ƒè¯•æ¨¡å¼
python -m test_agent.cli.interface run test_chat.md --config test_agent_config.yaml --debug
```

### åˆ›å»ºé…ç½®æ–‡ä»¶

```bash
# ç”Ÿæˆé»˜è®¤é…ç½®æ¨¡æ¿
python -m test_agent.cli.interface init-config

# æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„
python -m test_agent.cli.interface init-config --output my_config.yaml
```

### æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯

```bash
# æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤
python -m test_agent.cli.interface --help

# æ˜¾ç¤ºç‰¹å®šå‘½ä»¤çš„å¸®åŠ©
python -m test_agent.cli.interface run --help
```

### é«˜çº§é…ç½®

Test Agent æ”¯æŒå¤šç§é«˜çº§é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬ï¼š

- é”™è¯¯é‡è¯•ç­–ç•¥
- æˆªå›¾å’Œè§†é¢‘è®°å½•
- è‡ªå®šä¹‰ WebDriver é€‰é¡¹
- è‡ªå®šä¹‰ LLM æä¾›å•†
- æµ‹è¯•æŠ¥å‘Šæ ¼å¼

è¯¦ç»†é…ç½®è¯·å‚è€ƒ `docs` ç›®å½•ä¸­çš„æ–‡æ¡£ã€‚

## é¡¹ç›®ç»“æ„

```
test_agent/
â”œâ”€â”€ __init__.py         # åŒ…å®šä¹‰å’Œå¯¼å‡º
â”œâ”€â”€ __main__.py         # å…¥å£ç‚¹
â”œâ”€â”€ cli/                # å‘½ä»¤è¡Œæ¥å£
â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”œâ”€â”€ core/               # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ agent.py        # æµ‹è¯•ä»£ç†ä¸»ç±»
â”‚   â”œâ”€â”€ executor.py     # æµ‹è¯•æ‰§è¡Œå™¨
â”‚   â”œâ”€â”€ parser.py       # Markdown è§£æå™¨
â”‚   â””â”€â”€ intervention.py # äººå·¥å¹²é¢„å¤„ç†
â”œâ”€â”€ report/             # æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
```

## å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š

```bash
python -m venv venv
source venv/bin/activate  # Windows ä½¿ç”¨ venv\Scripts\activate
```

2. å®‰è£…å¼€å‘ä¾èµ–ï¼š

```bash
pip install -e ".[dev]"
```

### æ ¸å¿ƒå¼€å‘åŸåˆ™

1. **æ¨¡å—åŒ–è®¾è®¡** - æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹å°è£…
2. **å¼‚æ­¥ä¼˜å…ˆ** - æ‰€æœ‰ I/O æ“ä½œä½¿ç”¨ async/await
3. **é”™è¯¯å¤„ç†** - å®Œå–„çš„å¼‚å¸¸æ•è·å’Œæ¢å¤
4. **å¯è§‚æµ‹æ€§** - è¯¦ç»†çš„æ—¥å¿—å’Œé¥æµ‹
5. **å¯æ‰©å±•æ€§** - æ”¯æŒæ’ä»¶å’Œè‡ªå®šä¹‰åŠ¨ä½œ

## å·²çŸ¥é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 1. è¶…æ—¶é—®é¢˜ âœ… å·²è§£å†³

- **é—®é¢˜**: 30 ç§’è¶…æ—¶å¯¼è‡´ä»£ç†ä¸­æ–­
- **è§£å†³**: å¢åŠ åˆ° 600 ç§’ï¼Œæ”¯æŒå¤æ‚æ“ä½œ

### 2. æµè§ˆå™¨ä¼šè¯ç®¡ç† âœ… å·²è§£å†³

- **é—®é¢˜**: äººå·¥å¹²é¢„åæµè§ˆå™¨é€€å‡º
- **è§£å†³**: ä¼˜åŒ–ä¼šè¯ç”Ÿå‘½å‘¨æœŸç®¡ç†

### 3. é¡µé¢è¯†åˆ« ğŸ”§ æŒç»­ä¼˜åŒ–

- **é—®é¢˜**: é¡µé¢è·³è½¬åè¯†åˆ«ä¸ºç©ºç™½
- **è§£å†³**: å¢å¼º DOM è§£æå’ŒçŠ¶æ€æ£€æµ‹

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Pull Request å’Œ Issue æ¥å¸®åŠ©æ”¹è¿›é¡¹ç›®ã€‚åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. æ·»åŠ é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹
2. éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

## è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶
